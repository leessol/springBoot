package com.shinhan.education;

import org.junit.jupiter.api.Test;
import org.springframework.beans.factory.annotation.Autowired;
import org.springframework.boot.test.context.SpringBootTest;

import com.shinhan.education.repository.PDSBoardRepository;
import com.shinhan.education.repository.PDSFileRepository;
import com.shinhan.education.vo.PDSBoard;
import com.shinhan.education.vo.PDSFile;

@SpringBootTest
public class OneToManyTest {

	@Autowired
	PDSFileRepository fileRepo;

	@Autowired
	PDSBoardRepository boardRepo;

	@Test
	void test5() {
		PDSFile file = fileRepo.findById(1L).orElse(null);
		if(file!=null) {
			boardRepo.findById(2L).orElse(null);
			fileRepo.save(file);
		}
		
	}

	// @Test
	void test4() {
		boardRepo.findAll().forEach(b -> System.out.println(b));
	}

	// 부모만 insert
	// @Test
	void test3() {
		PDSBoard board = PDSBoard.builder().pname("게시글").pwriter("작성자").build();
		boardRepo.save(board);
	}
}
